<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
				* {
				margin: 0;
				padding: 0;
			}
			
			ul,
			li {
				list-style: none;
			}
			
			#list {
				border: 1px solid black;
				margin: 0 auto;
				position: relative;
			}
			
			li {
				width: 200px;
				color: white;
				font-size: 30px;
				padding: 10px;
				border: 1px solid gainsboro;
				text-align: center;
				position: absolute;
				box-sizing: border-box;
				/* 隐藏 */
				/*visibility: hidden;
				transition: all 1s;*/
			}
			
			li img {
				width: 100%;
			}
		</style>
	</head>
	<body>
		<ul id="list"></ul>
		<script type="text/javascript">
			var oList = document.getElementById("list");
			for (var i = 0; i < 20; i++) {
				var theLi = document.createElement("li");
				var theImg = document.createElement("img");
				theImg.src = "img/" + i + ".jpeg";
				theLi.appendChild(theImg);
				oList.appendChild(theLi);
 			}
			function change(){
				var space = 10;
				var winW = document.documentElement.clientWidth;
				var cols = parseInt((winW - space) / (200 + space));
				oList.style.width = (200 + space)*cols + space + "px";
				var h = Math.floor(Math.random()*(300 -200 +1)+ 200);
				theLi.style.height = h + "px";
				var colHArr = [];
				for (var i = 0; i < cols i++) {
					colHArr[i] = 0;
				}
				var minH = colHArr[0];
				var minIndex = 0;
				for (var j = 0; j < colHArr.length; j++) {
					if(minH > colHArr[j]){
						minH = colHArr[j];
						minIndex = j;
					}
				}
				theLi.style.top = minH + space +"px";
				theLi.style.left = (200 + space)*minIndex + space + "px";
			}
		</script>
	</body>
</html>
