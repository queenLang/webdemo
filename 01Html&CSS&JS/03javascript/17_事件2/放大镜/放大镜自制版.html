<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>放大镜自制版.</title>
		<style>
			* {
				margin: 0;
				padding: 0
			}
			
			#small {
				width: 400px;
				height: 350px;
				border: 1px solid gray;
				position: absolute;
				top: 50px;
				left: 50px;
			}
			
			#big {
				width: 400px;
				height: 350px;
				border: 1px solid gray;
				position: absolute;
				top: 50px;
				left: 500px;
			}
			
			#show {
				width: 150px;
				height: 100px;
				background-color: lightgray;
				border: 1px solid antiquewhite;
				opacity: 0.5;
				position: absolute;
				z-index: 1;
				display: none;
			}
		</style>
	</head>

	<body>
		<div id="box">
			<div id="small">
				<div id="show"></div>
				<img src="img/min.jpg" />
			</div>
			<div id="big">
				<img src="img/max.jpg" />
			</div>
		</div>
		<script type="text/javascript">
			var osmall = document.getElementById("small");
			var obig = document.getElementById("big");
			var oshow = document.getElementById("show");
			osmall.onmouseover = function() {
				oshow.style.display = "block";
			}
			osmall.onmouseout = function() {
				oshow.style.display = "none";
			}

			osmall.onmousemove = function(ev) {
				var maxW = osmall.clientWidth - oshow.offsetWidth;
				var maxH = osmall.clientHeight - oshow.offsetHeight;
				var ev = ev || window.event;
				//获取鼠标相对于osmall的位置
				var X = ev.pageX - osmall.offsetLeft;
				var Y = ev.pageY - osmall.offsetTop;
				var L = X - oshow.offsetWidth / 2;
				var T = Y - oshow.offsetHeight / 2;

				if(L <= 0) {
					L = 0;
				}
				if(L >= maxW) {
					L = maxW;
				}
				if(T <= 0) {
					T = 0;
				}
				if(T >= maxW) {
					T = maxH;
				}
				oshow.style.left = L + "px";
				oshow.style.top = T + "px";

			}
		</script>
	</body>

</html>